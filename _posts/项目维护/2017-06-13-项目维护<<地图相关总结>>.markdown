---
layout: post
title:  "é¡¹ç›®ç»´æŠ¤<<åœ°å›¾ç›¸å…³æ€»ç»“>>"
date:   2017-06-13 10:17:31 +0800
categories: é¡¹ç›®ç»´æŠ¤
---
![æ¥è‡ªé¡¹ç›®æˆªå›¾-ç‚¹èšåˆ](http://yuqiangcoder.com/assets/postImages/ios/201706/3.png)

## ä¸€. é—®é¢˜: åœ°å›¾æ ‡æ³¨ç‚¹ä½ç½®ä¸å‡†ç¡®
### çŸ¥è¯†èƒŒæ™¯
> 1.WGSï¼84åŸå§‹åæ ‡ç³»ï¼Œä¸€èˆ¬ç”¨å›½é™…GPSçºªå½•ä»ªè®°å½•ä¸‹æ¥çš„ç»çº¬åº¦ï¼Œé€šè¿‡GPSå®šä½æ‹¿åˆ°çš„åŸå§‹ç»çº¬åº¦ï¼ŒGoogleå’Œé«˜å¾·åœ°å›¾å®šä½çš„çš„ç»çº¬åº¦ï¼ˆå›½å¤–ï¼‰éƒ½æ˜¯åŸºäºWGSï¼84åæ ‡ç³»çš„ï¼›ä½†æ˜¯åœ¨å›½å†…æ˜¯ä¸å…è®¸ç›´æ¥ç”¨WGS84åæ ‡ç³»æ ‡æ³¨çš„ï¼Œå¿…é¡»ç»è¿‡åŠ å¯†åæ‰èƒ½ä½¿ç”¨ï¼›
2.GCJï¼02åæ ‡ç³»ï¼Œåˆåâ€œç«æ˜Ÿåæ ‡ç³»â€ï¼Œæ˜¯æˆ‘å›½å›½æµ‹å±€ç‹¬åˆ›çš„åæ ‡ä½“ç³»ï¼Œç”±WGSï¼84åŠ å¯†è€Œæˆï¼Œåœ¨å›½å†…ï¼Œå¿…é¡»è‡³å°‘ä½¿ç”¨GCJï¼02åæ ‡ç³»ï¼Œæˆ–è€…ä½¿ç”¨åœ¨GCJï¼02åŠ å¯†åå†è¿›è¡ŒåŠ å¯†çš„åæ ‡ç³»ï¼Œå¦‚ç™¾åº¦åæ ‡ç³»ã€‚é«˜å¾·å’ŒGoogleåœ¨å›½å†…éƒ½æ˜¯ä½¿ç”¨GCJï¼02åæ ‡ç³»ï¼Œå¯ä»¥è¯´ï¼ŒGCJï¼02æ˜¯å›½å†…æœ€å¹¿æ³›ä½¿ç”¨çš„åæ ‡ç³»ï¼›
3.ç™¾åº¦åæ ‡ç³»:bd-09ï¼Œç™¾åº¦åæ ‡ç³»æ˜¯åœ¨GCJï¼02åæ ‡ç³»çš„åŸºç¡€ä¸Šå†æ¬¡åŠ å¯†åç§»åå½¢æˆçš„åæ ‡ç³»ï¼Œåªé€‚ç”¨äºç™¾åº¦åœ°å›¾ã€‚(ç›®å‰ç™¾åº¦APIæä¾›äº†ä»å…¶å®ƒåæ ‡ç³»è½¬æ¢ä¸ºç™¾åº¦åæ ‡ç³»çš„APIï¼Œä½†å´æ²¡æœ‰ä»ç™¾åº¦åæ ‡ç³»è½¬ä¸ºå…¶ä»–åæ ‡ç³»çš„API)

ä»¥ä¸ŠçŸ¥è¯†ç‚¹æ¥è‡ª[é«˜å¾·ï¼Œç™¾åº¦ï¼ŒGoogleåœ°å›¾å®šä½åç§»ä»¥åŠåæ ‡ç³»è½¬æ¢](http://blog.csdn.net/a13570320979/article/details/51366355)

### åˆ†æåŸå› 
> æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯é«˜å¾·åœ°å›¾.åˆ›å»ºç”µç«™æ—¶, ä¼šæŠŠè·å–åˆ°çš„é«˜å¾·ç»çº¬åº¦è°ƒç”¨åå°æ¥å£è½¬æ¢æˆGPSç»çº¬åº¦, ç„¶åæŠŠé«˜å¾·ç»çº¬åº¦å’ŒGPSç»çº¬åº¦éƒ½ç»™åå°, åå°ä¼šå†æŠŠGPSè½¬æˆç»çº¬åº¦è¦†ç›–ä¼ å…¥çš„ç»çº¬åº¦(æˆ‘ä»¬çš„åå°è®¾è®¡æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ğŸ˜‚ğŸ˜‚, æ‡’å¾—åæ§½äº†). 

ç»è¿‡ä»¥ä¸Šçš„è¿‡ç¨‹, åœ¨åœ°å›¾ç‚¹èšåˆé¡µé¢è·å–åˆ°çš„ç»çº¬åº¦å…¶å®æ˜¯çœŸå®çš„ç»çº¬åº¦, ç„¶è€Œä»£ç ä¸­å´æ˜¯ç›´æ¥å½“æˆé«˜å¾·åæ ‡åœ¨åœ°å›¾ä¸Šæ ‡æ³¨, æ‰€ä»¥ä½ç½®æ˜¾ç¤ºæœ‰åå·®.

### è§£å†³æ–¹æ¡ˆ
æŠŠGPSè½¬æ¢ä¸ºé«˜å¾·ç»çº¬åº¦, åœ¨æ ‡æ³¨ç‚¹.

```
CLLocationCoordinate2D amapcoord = AMapCoordinateConvert(CLLocationCoordinate2DMake([mapPsModel.latitude doubleValue], [mapPsModel.longitude doubleValue]), AMapCoordinateTypeGPS);
```

## äºŒ. åœ°å›¾POIæœç´¢
> æ³¨: åœ¨æœªè®¾ç½®åŸå¸‚é™åˆ¶æ—¶, é«˜å¾·POIæœç´¢ä»…ä¼šè¿”å›å»ºè®®åŸå¸‚, éœ€è¦å¼•å¯¼ç”¨æˆ·é€‰æ‹©æŸä¸€åŸå¸‚å,ç»§ç»­æœç´¢.
[é«˜å¾·å®˜æ–¹sdk](http://lbs.amap.com/api/ios-sdk/guide/map-data/poi)

![å»ºè®®åŸå¸‚](http://yuqiangcoder.com/assets/postImages/ios/201706/4.png)

![å…´è¶£ç‚¹](http://yuqiangcoder.com/assets/postImages/ios/201706/5.png)

![æ ‡æ³¨ç‚¹](http://yuqiangcoder.com/assets/postImages/ios/201706/6.png)

## ä¸‰. å¯¼èˆªåŠŸèƒ½
> è·³è½¬åˆ°é«˜å¾·åœ°å›¾å’Œè‹¹æœè‡ªå¸¦åœ°å›¾, ç›®æ ‡ä½ç½®æ˜¯å‡†ç¡®çš„; ä½†æ˜¯è·³è½¬åˆ°ç™¾åº¦åœ°å›¾, ç›®æ ‡ä½ç½®å‘ç”Ÿåç§».

### åˆ†æåŸå› 
> å›½é™…ç»çº¬åº¦åæ ‡æ ‡å‡†ä¸ºWGS-84,å›½å†…å¿…é¡»è‡³å°‘ä½¿ç”¨å›½æµ‹å±€åˆ¶å®šçš„GCJ-02,å¯¹åœ°ç†ä½ç½®è¿›è¡Œé¦–æ¬¡åŠ å¯†ã€‚ç™¾åº¦åæ ‡åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†BD-09äºŒæ¬¡åŠ å¯†æªæ–½,æ›´åŠ ä¿æŠ¤äº†ä¸ªäººéšç§ã€‚
å› æ­¤ä»é«˜å¾·åœ°å›¾è¿›å…¥ç™¾åº¦åœ°å›¾å¯¼èˆª, éœ€è¦åˆ¶å®šç»çº¬åº¦ç±»å‹`coord_type=gcj02`

### è§£å†³æ–¹æ¡ˆ
*  éœ€è¦æ‰‹åŠ¨ç‚¹å‡»å¼€å§‹å¯¼èˆª`@"baidumap://map/direction?origin={{æˆ‘çš„ä½ç½®}}&destination=latlng:%f,%f|name=ç›®çš„åœ°&mode=driving&coord_type=gcj02"`
```
NSString *urlString = [[NSString stringWithFormat:@"baidumap://map/direction?origin={{æˆ‘çš„ä½ç½®}}&destination=latlng:%f,%f|name=ç›®çš„åœ°&mode=driving&coord_type=gcj02",locationBaidu.coordinate.latitude, locationBaidu.coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]; 
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];
```

* ç›´æ¥å¯¼èˆª `@"baidumap://map/navi?location=%f, %f&src=push&type=BLK&src=webapp.line.isolarcloud.operation4ios&coord_type=gcj02"`
  ```
  NSString *urlString = [[NSString stringWithFormat:@"baidumap://map/navi?location=%f, %f&src=push&type=BLK&src=webapp.line.isolarcloud.operation4ios&coord_type=gcj02", locationBaidu.coordinate.latitude, locationBaidu.coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];
  ```

å¦‚æœä¸æŒ‡å®šç±»å‹, ä¹Ÿå¯ä»¥æ‰‹åŠ¨è½¬æ¢åæ ‡ç‚¹, è¯·å‚è€ƒ[ç«æ˜Ÿåæ ‡ç³» (GCJ-02) ä¸ç™¾åº¦åæ ‡ç³» (BD-09) çš„è½¬æ¢ç®—æ³•](https://blog.woodbunny.com/post-68.html)

å¼ºçƒˆæ¨èåŒäº‹(åœ°å›¾æ–¹é¢çš„å¤§ç¥)çš„ä¸€ç¯‡åšå®¢,ä»‹ç»çš„éå¸¸è¯¦ç»† [å›½å†…å¤–åœ°å›¾å·®å¼‚åˆ†æ](https://chy.mobi/tool-used/map-difference-at-home-and-abroad.html)

[jekyll-docs]: https://jekyllrb.com/docs/home
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/


