<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="baidu-site-verification" content="w9Akh6dPe4" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<!--[if lte IE 8]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

<title>RxSwift æˆé•¿ä¹‹è·¯---åŸºæœ¬æ¦‚å¿µå’Œè¯­æ³• | é€†è¡Œäº‘çš„æŠ€æœ¯åšå®¢</title>
<meta name="author" content="é€†è¡Œäº‘">




<link rel="shortcut icon" href="" />

<link rel="stylesheet" type="text/css" href="/assets/css/style.css">

<link href="/pages/rss.xml" rel="alternate" title="é€†è¡Œäº‘çš„æŠ€æœ¯åšå®¢" type="application/atom+xml">



  </head>
  <body>
        <aside id="sidebar">
  <nav id="tags">
    <a href="/index.html" id="avatar" style="background-image:url(https://github.com/YQqiang/YQqiang.github.io/blob/master/assets/images/mine.JPG?raw=true)"></a>

    <ul id="tags__ul">
      <li id="pl__all" class="tags__li tags-btn active">æ‰€æœ‰æ–‡ç« </li>
       
        <li id="å¼€å‘ç¬”è®°" class="tags__li tags-btn">å¼€å‘ç¬”è®°</li>
       
        <li id="å‡½æ•°å¼Swift" class="tags__li tags-btn">å‡½æ•°å¼Swift</li>
       
        <li id="é¡¹ç›®ç»´æŠ¤" class="tags__li tags-btn">é¡¹ç›®ç»´æŠ¤</li>
       
        <li id="å¼€æºé¡¹ç›®" class="tags__li tags-btn">å¼€æºé¡¹ç›®</li>
      
    </ul>

    <div id="tags__bottom">
      <a href="https://github.com/YQqiang" id="icon-github" class="tags-btn fontello" target="_blank"></a>
      <a href="/pages/rss.xml" id="icon-feed" class="tags-btn fontello" target="_blank"></a>
      <a href="mailto:yuqiang.coder@gmail.com" id="icon-email" class="tags-btn fontello"></a>
    </div>
  </nav> <!-- end #tags -->

  <div id="posts-list">
    <form action="" id="search-form">
      <a href="/index.html" id="mobile-avatar" style="background-image:url(https://github.com/YQqiang/YQqiang.github.io/blob/master/assets/images/mine.JPG?raw=true)"></a>
      <!-- NOTE: input field is disabled by default -->
      <input id="search-input" type="text" placeholder="Search..." >
    </form>

    <nav id="pl__container">
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/08/30/@strongify(self)-%E5%92%8C-@weakify(self)-%E5%AE%8F.html"><span class="pl__circle"></span><span class="pl__title">@strongify(self) å’Œ @weakify(self) å®</span><span class="pl__date">17/08/30</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/08/17/UserInfo=-NSDebugDescription=Garbage-at-end.-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html"><span class="pl__circle"></span><span class="pl__title">UserInfo={NSDebugDescription=Garbage at end.}è§£å†³æ–¹æ¡ˆ</span><span class="pl__date">17/08/17</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/07/29/%E4%BD%BF%E7%94%A8RunTime%E6%B8%85%E7%A9%BA%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%80%BC.html"><span class="pl__circle"></span><span class="pl__title">ä½¿ç”¨RunTimeæ¸…ç©ºå•ä¾‹å¯¹è±¡å±æ€§å€¼</span><span class="pl__date">17/07/29</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/07/12/UIBezierPath-+-CAShapeLayer-%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8.html"><span class="pl__circle"></span><span class="pl__title">UIBezierPath + CAShapeLayer å®æˆ˜åº”ç”¨</span><span class="pl__date">17/07/12</span></a>
    
      <a class="é¡¹ç›®ç»´æŠ¤ pl__all" href="/2017/06/20/%E9%A1%B9%E7%9B%AE%E7%BB%B4%E6%8A%A4-%E6%A8%A1%E7%B3%8A%E6%90%9C%E7%B4%A2%E6%8E%A7%E4%BB%B6%E5%B0%81%E8%A3%85.html"><span class="pl__circle"></span><span class="pl__title">é¡¹ç›®ç»´æŠ¤<<æ¨¡ç³Šæœç´¢æ§ä»¶å°è£…>></span><span class="pl__date">17/06/20</span></a>
    
      <a class="é¡¹ç›®ç»´æŠ¤ pl__all" href="/2017/06/13/%E9%A1%B9%E7%9B%AE%E7%BB%B4%E6%8A%A4-%E5%9C%B0%E5%9B%BE%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93.html"><span class="pl__circle"></span><span class="pl__title">é¡¹ç›®ç»´æŠ¤<<åœ°å›¾ç›¸å…³æ€»ç»“>></span><span class="pl__date">17/06/13</span></a>
    
      <a class="é¡¹ç›®ç»´æŠ¤ pl__all" href="/2017/06/03/%E9%A1%B9%E7%9B%AE%E7%BB%B4%E6%8A%A4-%E5%AF%BC%E8%88%AA%E6%A0%8F%E6%A0%87%E9%A2%98%E6%8D%A2%E8%A1%8C%E6%98%BE%E7%A4%BA.html"><span class="pl__circle"></span><span class="pl__title">é¡¹ç›®ç»´æŠ¤<<å¯¼èˆªæ æ ‡é¢˜æ¢è¡Œæ˜¾ç¤º>></span><span class="pl__date">17/06/03</span></a>
    
      <a class="å¼€æºé¡¹ç›® pl__all" href="/2017/04/28/iOS-YQAlert-%E5%BC%B9%E5%87%BA%E6%A1%86-%E4%B8%AA%E4%BA%BA%E5%BA%93.html"><span class="pl__circle"></span><span class="pl__title">iOS YQAlert å¼¹å‡ºæ¡† -- ä¸ªäººåº“</span><span class="pl__date">17/04/28</span></a>
    
      <a class="å¼€æºé¡¹ç›® pl__all" href="/2017/04/19/Nunchakus-%E4%B8%AA%E4%BA%BAAPP.html"><span class="pl__circle"></span><span class="pl__title">Nunchakus -- ä¸ªäººAPP</span><span class="pl__date">17/04/19</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/04/07/git-%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93.html"><span class="pl__circle"></span><span class="pl__title">git æ—¥å¸¸ä½¿ç”¨å°ç»“</span><span class="pl__date">17/04/07</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/03/20/BgImgTextView.html"><span class="pl__circle"></span><span class="pl__title">BgImgTextView</span><span class="pl__date">17/03/20</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/03/07/Swift-%E6%8A%80%E8%83%BD%E5%B0%8F%E7%BB%93(%E4%BA%8C).html"><span class="pl__circle"></span><span class="pl__title">Swift-æŠ€èƒ½å°ç»“(äºŒ)</span><span class="pl__date">17/03/07</span></a>
    
      <a class="é¡¹ç›®ç»´æŠ¤ pl__all" href="/2017/02/25/%E4%BD%BF%E7%94%A8NSUserDefaults%E6%8C%81%E4%B9%85%E5%8C%96%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A1%AB%E5%9D%91%E7%AC%94%E8%AE%B0.html"><span class="pl__circle"></span><span class="pl__title">ä½¿ç”¨NSUserDefaultsæŒä¹…åŒ–ç™»å½•æ¥å£æ•°æ®çš„å¡«å‘ç¬”è®°</span><span class="pl__date">17/02/25</span></a>
    
      <a class="å‡½æ•°å¼Swift pl__all" href="/2017/02/23/RxSwift-+-Moya-+-ObjectMapper-+-MVVM-%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html"><span class="pl__circle"></span><span class="pl__title">RxSwift + Moya + ObjectMapper + MVVM çš„ç½‘ç»œè¯·æ±‚</span><span class="pl__date">17/02/23</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/02/22/Swift-%E6%8A%80%E8%83%BD%E5%B0%8F%E7%BB%93(%E4%B8%80).html"><span class="pl__circle"></span><span class="pl__title">Swift-æŠ€èƒ½å°ç»“(ä¸€)</span><span class="pl__date">17/02/22</span></a>
    
      <a class="å‡½æ•°å¼Swift pl__all" href="/2017/02/14/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-swift%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B%E4%BB%8B%E7%BB%8D(%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%9E%E7%8E%B0Map%E5%87%BD%E6%95%B0).html"><span class="pl__circle"></span><span class="pl__title">é«˜é˜¶å‡½æ•°---swiftä¸­çš„æ³›å‹ä»‹ç»(ä¸€æ­¥æ­¥å®ç°Mapå‡½æ•°)</span><span class="pl__date">17/02/14</span></a>
    
      <a class="å‡½æ•°å¼Swift pl__all" href="/2017/02/14/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-swift%E4%B8%AD%E7%9A%84Filter-%E5%92%8C-Reduce.html"><span class="pl__circle"></span><span class="pl__title">é«˜é˜¶å‡½æ•°---swiftä¸­çš„Filter å’Œ Reduce</span><span class="pl__date">17/02/14</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/02/13/iOS-%E5%BD%93%E7%BC%96%E8%BE%91%E5%AF%86%E7%A0%81%E8%BE%93%E5%85%A5%E6%A1%86%E6%97%B6,-%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%B8%85%E7%A9%BA%E6%96%87%E6%9C%AC%E6%A1%86%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html"><span class="pl__circle"></span><span class="pl__title">iOS---å½“ç¼–è¾‘å¯†ç è¾“å…¥æ¡†æ—¶, ä¼šè‡ªåŠ¨æ¸…ç©ºæ–‡æœ¬æ¡†é—®é¢˜è§£å†³æ–¹æ¡ˆ</span><span class="pl__date">17/02/13</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/02/09/REMOTE-HOST-IDENTIFICATION-HAS-CHANGED.html"><span class="pl__circle"></span><span class="pl__title">WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</span><span class="pl__date">17/02/09</span></a>
    
      <a class="é¡¹ç›®ç»´æŠ¤ pl__all" href="/2017/01/22/UISearchBar-%E9%97%AA%E7%8E%B0%E8%83%8C%E6%99%AF%E8%89%B2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html"><span class="pl__circle"></span><span class="pl__title">UISearchBar é—ªç°èƒŒæ™¯è‰²è§£å†³æ–¹æ¡ˆ</span><span class="pl__date">17/01/22</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/01/19/iOS%E5%90%8C%E6%AD%A5%E8%B0%83%E7%94%A8%E5%AF%B9%E8%AF%9D%E6%A1%86-RunLoop%E7%9A%84%E4%BD%BF%E7%94%A8.html"><span class="pl__circle"></span><span class="pl__title">iOSåŒæ­¥è°ƒç”¨å¯¹è¯æ¡† RunLoopçš„ä½¿ç”¨</span><span class="pl__date">17/01/19</span></a>
    
      <a class="å‡½æ•°å¼Swift pl__all" href="/2017/01/10/iOS-Swift%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B-Core-Image-%E5%B0%81%E8%A3%85.html"><span class="pl__circle"></span><span class="pl__title">iOS-Swiftå‡½æ•°å¼ç¼–ç¨‹ Core Image å°è£…</span><span class="pl__date">17/01/10</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2017/01/07/iOS-%E6%97%B6%E5%8C%BA%E8%BD%AC%E6%8D%A2(Objective-C)-NSTimeZone.html"><span class="pl__circle"></span><span class="pl__title">iOS-æ—¶åŒºè½¬æ¢(Objective-C) NSTimeZone</span><span class="pl__date">17/01/07</span></a>
    
      <a class="å‡½æ•°å¼Swift pl__all" href="/2016/12/28/RxSwift-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E8%AF%AD%E6%B3%95.html"><span class="pl__circle"></span><span class="pl__title">RxSwift æˆé•¿ä¹‹è·¯---åŸºæœ¬æ¦‚å¿µå’Œè¯­æ³•</span><span class="pl__date">16/12/28</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2016/12/24/iOS-UILabel%E6%89%A9%E5%B1%95%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%AD%97%E5%A2%9E%E9%95%BF-%E5%87%8F%E5%B0%8F%E5%8A%A8%E7%94%BB.html"><span class="pl__circle"></span><span class="pl__title">iOS-UILabelæ‰©å±•å®ç°æ•°å­—å¢é•¿/å‡å°åŠ¨ç”»</span><span class="pl__date">16/12/24</span></a>
    
      <a class="å¼€å‘ç¬”è®° pl__all" href="/2016/12/23/iOS-%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6(%E5%8F%AF%E5%8D%95%E7%8B%AC%E9%80%89%E5%B9%B4-%E5%B9%B4%E6%9C%88-%E5%B9%B4%E6%9C%88%E6%97%A5).html"><span class="pl__circle"></span><span class="pl__title">iOS-æ—¥æœŸé€‰æ‹©æ§ä»¶(å¯å•ç‹¬é€‰å¹´/å¹´æœˆ/å¹´æœˆæ—¥)</span><span class="pl__date">16/12/23</span></a>
    
    </nav>
  </div> <!-- end #posts-list -->
</aside> <!-- end #sidebar -->
    <div id="post">
      <div id="pjax">
        <article id="post__content">
    <h1 id="post__title" data-identifier="20161228">RxSwift æˆé•¿ä¹‹è·¯---åŸºæœ¬æ¦‚å¿µå’Œè¯­æ³•</h1>
    <blockquote>
  <p>æ›´æ–°æ—¶é—´: 2017-02-28
<a href="http://www.jianshu.com/p/2e0dfba02ae5">RxSwift + Moya + ObjectMapper + MVVM çš„ç½‘ç»œè¯·æ±‚</a></p>
</blockquote>

<h1 id="è¯´æ˜">è¯´æ˜</h1>
<p>åˆšå¼€å§‹æ¥è§¦<code class="highlighter-rouge">RxSwift</code>, å¾ˆå¤šæ¦‚å¿µç†ä¸æ¸…; è¯•ç€é˜…è¯»å®˜æ–¹çš„<code class="highlighter-rouge">playground</code>, æ— å¥ˆè‹±è¯­æ°´å¹³æœ‰é™, çœ‹ç€è‹±æ–‡æ–‡æ¡£,æ›´åŠ è¿·ç³Š. å‡ ç»å‘¨æŠ˜,æ‰¾åˆ°è¿™ç¯‡å¾ˆå¥½çš„æ•™ç¨‹, ä½œè€…æ•´ç†çš„éå¸¸æ¸…æ™°, æ„Ÿè°¢ä½œè€…çš„åˆ†äº«ç²¾ç¥.
è¯·å„ä½çœ‹å®˜ç§»æ­¥åŸæ–‡<a href="http://www.codertian.com/2016/11/27/RxSwift-ru-keng-ji-read-document/">ç”°è…¾é£çš„åšå®¢ ã€iOSå¼€å‘ã€‘RxSwiftå…¥å‘è§£è¯»-ä½ æ‰€éœ€è¦çŸ¥é“çš„å„ç§æ¦‚å¿µ</a></p>

<p>æ­¤å¤„æ•´ç†çš„ä¸å¤Ÿæ¸…æ™°, ä»…ä»…æ˜¯ä¸ºäº†è‡ªå·±å¯¹è¿™äº›æ¦‚å¿µçš„è¿›ä¸€æ­¥çš„è®°å¿†.æ‰€ä»¥ä¸ºäº†ä¸è€½è¯¯å¤§å®¶çš„æ—¶é—´, è¯·å¤§å®¶ç‚¹å‡»è¿™é‡Œ,é˜…è¯»åŸæ–‡ä½œè€…çš„åšå®¢<a href="http://www.codertian.com/">æ²¸æ²¸è…¾ï¼ˆç‹’ç‹’ï¼‰</a></p>

<h1 id="æ–‡ä»¶ç›®å½•é¢„è§ˆ-åŸºæœ¬æ¦‚å¿µåˆ’åˆ†">æ–‡ä»¶ç›®å½•é¢„è§ˆ, åŸºæœ¬æ¦‚å¿µåˆ’åˆ†</h1>

<p><img src="http://upload-images.jianshu.io/upload_images/3538284-56ec8dfc17415f0f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç›®å½•" /></p>

<p><img src="http://upload-images.jianshu.io/upload_images/3538284-411971e968154f7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯ä¾æ¬¡å–æ¶ˆæ³¨é‡Š,åœ¨æ§åˆ¶å°æŸ¥çœ‹è¿è¡Œç»“æœ" /></p>

<h1 id="å†…å®¹æ‹†åˆ†">å†…å®¹æ‹†åˆ†</h1>
<h2 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h2>
<blockquote>
  <ol>
    <li><code class="highlighter-rouge">Observable</code> å’Œ <code class="highlighter-rouge">Observer</code>
<code class="highlighter-rouge">Observable</code> æ˜¯å¯è¢«è§‚å¯Ÿçš„,ç†è§£ä¸ºäº‹ä»¶æº.
<code class="highlighter-rouge">Observer</code> æ˜¯æˆ‘ä»¬çš„è§‚å¯Ÿè€…, æ”¶åˆ°äº‹ä»¶å, äº‹ä»¶çš„å¤„ç†è€…
è§‚å¯Ÿè€…éœ€è¦è®¢é˜…(<code class="highlighter-rouge">subscribe</code>) è¢«è§‚å¯Ÿè€…,æ‰èƒ½æ”¶åˆ°<code class="highlighter-rouge">Observable</code>çš„äº‹ä»¶é€šçŸ¥æ¶ˆæ¯</li>
    <li>åˆ›å»ºå’Œè®¢é˜…è¢«è§‚å¯Ÿè€…
åˆ›å»ºè¢«è§‚å¯Ÿè€…å…¶å®å°±æ˜¯åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">Observable</code>çš„<code class="highlighter-rouge">sequence</code>,å°±æ˜¯åˆ›å»ºä¸€ä¸ªæµ, ç„¶åå°±å¯ä»¥è¢«è®¢é˜…<code class="highlighter-rouge">subscribe</code>, è¿™æ ·è¢«è§‚å¯Ÿè€…å‘å‡ºäº‹ä»¶, æˆ‘ä»¬å°±èƒ½åšç›¸åº”çš„å¤„ç†</li>
    <li>DisposeBag
<code class="highlighter-rouge">DisposeBag</code> å…¶å®ç›¸å½“äº<code class="highlighter-rouge">iOS</code>ä¸­<code class="highlighter-rouge">ARC</code>, åœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è§‚å¯Ÿè€…, ç†è§£ä¸ºå†…å­˜ç®¡ç†è€…</li>
    <li>subscribe
<code class="highlighter-rouge">subscribe</code>æ˜¯è®¢é˜…<code class="highlighter-rouge">sequence</code>å‘å‡ºçš„äº‹ä»¶, æ¯”å¦‚<code class="highlighter-rouge">next</code>äº‹ä»¶, <code class="highlighter-rouge">error</code>äº‹ä»¶ç­‰. è€Œ<code class="highlighter-rouge">subscribe(onNext:)</code>æ˜¯ç›‘å¬<code class="highlighter-rouge">sequence</code>å‘å‡ºçš„<code class="highlighter-rouge">next</code>äº‹ä»¶ä¸­çš„<code class="highlighter-rouge">element</code>è¿›è¡Œå¤„ç†, ä»–ä¼šå¿½ç•¥<code class="highlighter-rouge">error</code>å’Œ<code class="highlighter-rouge">complete</code>äº‹ä»¶. ç›¸å¯¹åº”çš„è¿˜æœ‰<code class="highlighter-rouge">subscribe(onError:)</code> å’Œ <code class="highlighter-rouge">subscribe(onCompleted:)</code></li>
  </ol>
</blockquote>

<h3 id="never-æ˜¯åˆ›å»ºä¸€ä¸ªsequence-ä½†æ˜¯ä¸å‘å‡ºä»»ä½•äº‹ä»¶ä¿¡å·"><code class="highlighter-rouge">never</code> æ˜¯åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">sequence</code>, ä½†æ˜¯ä¸å‘å‡ºä»»ä½•äº‹ä»¶ä¿¡å·</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable&lt;String&gt;.never().subscribe { (_) in
Â  Â  Â  Â  Â  Â  print("ä¸ä¼šæ‰“å°è¿™å¥è¯, å› ä¸ºä¸ä¼šè¢«æ‰§è¡Œ")
Â  Â  Â  Â  }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="empty-æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„sequence-åªèƒ½å‘å‡ºä¸€ä¸ªcompleteäº‹ä»¶"><code class="highlighter-rouge">empty</code> æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„<code class="highlighter-rouge">sequence</code>, åªèƒ½å‘å‡ºä¸€ä¸ª<code class="highlighter-rouge">complete</code>äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable&lt;Int&gt;.empty().subscribe { event in print(event) }.addDisposableTo(disposeBag)
</code></pre>
</div>
<h3 id="just-æ˜¯åˆ›å»ºä¸€ä¸ªsequenceèƒ½å‘å‡ºç‰¹å®šçš„äº‹ä»¶-èƒ½æ­£å¸¸ç»“æŸ"><code class="highlighter-rouge">just</code> æ˜¯åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">sequence</code>èƒ½å‘å‡ºç‰¹å®šçš„äº‹ä»¶, èƒ½æ­£å¸¸ç»“æŸ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable&lt;String&gt;.just("ğŸ’—").subscribe { (string) in
            print(string)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="of-æ˜¯åˆ›å»ºä¸€ä¸ªsequence-èƒ½å‘å‡ºå¾ˆå¤šäº‹ä»¶ä¿¡å·-subscribeåªç›‘å¬äº‹ä»¶"><code class="highlighter-rouge">of</code> æ˜¯åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">sequence</code> èƒ½å‘å‡ºå¾ˆå¤šäº‹ä»¶ä¿¡å·, subscribeåªç›‘å¬äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("1--", "2--", "3--", "4--").subscribe { (str) in
            print(str)
        }.addDisposableTo(DisposeBag())
        
        Observable.of("1--", "2--", "3--", "4--").subscribe(onNext: { (str) in
            print(str)
        }, onError: nil, onCompleted: nil, onDisposed: nil).addDisposableTo(DisposeBag())     
</code></pre>
</div>
<h3 id="from-æ˜¯ä»é›†åˆä¸­åˆ›å»ºsequence-ä¾‹å¦‚-å­—å…¸-æ•°ç»„-set"><code class="highlighter-rouge">from</code> æ˜¯ä»é›†åˆä¸­åˆ›å»º<code class="highlighter-rouge">sequence</code>, ä¾‹å¦‚: å­—å…¸, æ•°ç»„, <code class="highlighter-rouge">set</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.from(["ğŸ˜€", "ğŸ˜¬", "ğŸ˜‚", "ğŸ˜…"]).subscribe(onNext: { print($0)
        }).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="create-æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å¯è§‚å¯Ÿçš„sequence"><code class="highlighter-rouge">create</code> æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å¯è§‚å¯Ÿçš„<code class="highlighter-rouge">sequence</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let myJust: (String) -&gt; Observable&lt;String&gt; = { (element: String) -&gt; Observable&lt;String&gt; in
            return Observable.create({ (observer) -&gt; Disposable in
                observer.on(.next(element))
                observer.on(.completed)
                return Disposables.create()
            })
        }
        myJust("è‡ªå®šä¹‰å¯è§‚å¯Ÿçš„sequence").subscribe(onNext: { (str) in
            print(str)
        }).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="range-å°±æ˜¯åˆ›å»ºä¸€ä¸ªsequence-ä»–å¯ä»¥å‘å‡ºè¿™ä¸ªèŒƒå›´ä»å¼€å§‹åˆ°ç»“æŸçš„æ‰€æœ‰äº‹ä»¶"><code class="highlighter-rouge">range</code> å°±æ˜¯åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">sequence</code>, ä»–å¯ä»¥å‘å‡ºè¿™ä¸ªèŒƒå›´ä»å¼€å§‹åˆ°ç»“æŸçš„æ‰€æœ‰äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.range(start: 1, count: 10).subscribe { print($0)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="repeatelement-åˆ›å»ºä¸€ä¸ªsequence-å‘å‡ºç‰¹å®šäº‹ä»¶næ¬¡"><code class="highlighter-rouge">repeatElement</code> åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">sequence</code>, å‘å‡ºç‰¹å®šäº‹ä»¶næ¬¡</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.repeatElement("âš¾ï¸").take(3).subscribe { print($0)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="generate-æ˜¯åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿçš„sequence-å½“åˆå§‹åŒ–çš„æ¡ä»¶ä¸ºtrueæ—¶-ä»–å°±ä¼šå‘å‡ºæ‰€å¯¹åº”çš„äº‹ä»¶"><code class="highlighter-rouge">generate</code> æ˜¯åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿçš„<code class="highlighter-rouge">sequence</code>, å½“åˆå§‹åŒ–çš„æ¡ä»¶ä¸º<code class="highlighter-rouge">true</code>æ—¶, ä»–å°±ä¼šå‘å‡ºæ‰€å¯¹åº”çš„äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.generate(initialState: 0, condition: { (element) -&gt; Bool in
            element &lt; 5
        }) { (element) -&gt; Int in
            element + 1
        }.subscribe { (element) in
            print(element)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="deferred-å»¶æœŸ-ä¼šä¸ºæ¯ä¸€ä¸ªè®¢é˜…è€…observer-åˆ›å»ºä¸€ä¸ªæ–°çš„å¯è§‚å¯Ÿåºåˆ—"><code class="highlighter-rouge">deferred</code> (å»¶æœŸ) ä¼šä¸ºæ¯ä¸€ä¸ªè®¢é˜…è€…<code class="highlighter-rouge">observer</code>, åˆ›å»ºä¸€ä¸ªæ–°çš„å¯è§‚å¯Ÿåºåˆ—</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>var count = 1
        let deferredSequence = Observable&lt;String&gt;.deferred { () -&gt; Observable&lt;String&gt; in
            print("Creating \(count)")
            count += 1
            return Observable.create({ (observer) -&gt; Disposable in
                observer.onNext("ğŸ„ğŸ½â€â™€ï¸")
                observer.onNext("ğŸ„")
                observer.onNext("â›·")
                return Disposables.create()
            })
        }
        deferredSequence.subscribe { print($0)
        }.addDisposableTo(DisposeBag())
        deferredSequence.subscribe { print($0)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="error-åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ—-ä½†ä¸å‘å‡ºä»»ä½•æ­£å¸¸çš„äº‹ä»¶-åªå‘å‡ºerroräº‹ä»¶å¹¶ç»“æŸ"><code class="highlighter-rouge">error</code> åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ—, ä½†ä¸å‘å‡ºä»»ä½•æ­£å¸¸çš„äº‹ä»¶, åªå‘å‡º<code class="highlighter-rouge">error</code>äº‹ä»¶å¹¶ç»“æŸ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>
</code></pre>
</div>
<h3 id="doono-doonnext-æ–¹æ³•å°±æ˜¯åœ¨subscribeonnextå‰è°ƒç”¨dooncompletedå°±æ˜¯åœ¨subscribeoncompletedå‰é¢è°ƒç”¨çš„"><code class="highlighter-rouge">doOno doOnNext( :)</code>æ–¹æ³•å°±æ˜¯åœ¨<code class="highlighter-rouge">subscribe(onNext:)</code>å‰è°ƒç”¨ï¼Œ<code class="highlighter-rouge">doOnCompleted(:)</code>å°±æ˜¯åœ¨<code class="highlighter-rouge">subscribe(onCompleted:)</code>å‰é¢è°ƒç”¨çš„ã€‚</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸš—", "ğŸš•", "ğŸš™", "ğŸšŒ").do(onNext: { (str) in
            print("doOn--\(str)")
        }, onError: nil, onCompleted: nil, onSubscribe: nil, onDispose: nil).subscribe { (str) in
            print(str)
        }.addDisposableTo(DisposeBag())
</code></pre>
</div>

<h2 id="subjectçš„ä½¿ç”¨">Subjectçš„ä½¿ç”¨</h2>
<blockquote>
  <p><code class="highlighter-rouge">Subject</code>æ˜¯ <code class="highlighter-rouge">Observable</code> å’Œ <code class="highlighter-rouge">observer</code> ä¹‹é—´çš„æ¡¥æ¢, ä¸€ä¸ª<code class="highlighter-rouge">Subject</code> æ—¢æ˜¯<code class="highlighter-rouge">Observable</code> ä¹Ÿæ˜¯ <code class="highlighter-rouge">observer</code>, ä»–æ—¢å¯ä»¥å‘å‡ºäº‹ä»¶,åˆå¯ä»¥ç›‘å¬äº‹ä»¶
<code class="highlighter-rouge">PublishSubject</code>, <code class="highlighter-rouge">ReplaySubject</code>å’Œ<code class="highlighter-rouge">BehaviorSubject</code>æ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡º<code class="highlighter-rouge">completed</code>äº‹ä»¶çš„ã€‚</p>
</blockquote>

<h3 id="publishsubject--å½“ä½ è®¢é˜…publishsubjectçš„æ—¶å€™-ä½ åªèƒ½æ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åå‘ç”Ÿçš„äº‹ä»¶-subjectonnextå‘å‡ºonnextäº‹ä»¶å¯¹åº”çš„è¿˜æœ‰onerrorå’Œoncompletedäº‹ä»¶"><code class="highlighter-rouge">publishSubject</code>  å½“ä½ è®¢é˜…<code class="highlighter-rouge">publishSubject</code>çš„æ—¶å€™, ä½ åªèƒ½æ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åå‘ç”Ÿçš„äº‹ä»¶, <code class="highlighter-rouge">subject.onNext()</code>å‘å‡º<code class="highlighter-rouge">onNext</code>äº‹ä»¶ï¼Œå¯¹åº”çš„è¿˜æœ‰<code class="highlighter-rouge">onError()</code>å’Œ<code class="highlighter-rouge">onCompleted()</code>äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let publishSubject = PublishSubject&lt;String&gt;()
        let disposeBag = DisposeBag()
        publishSubject.subscribe({ print("1---", $0)
        }).addDisposableTo(disposeBag)
        publishSubject.onNext("ğŸ¶")
        publishSubject.onNext("ğŸ±")
        
        publishSubject.subscribe({ print("2---", $0)
        }).addDisposableTo(disposeBag)
        publishSubject.onNext("ğŸ…°ï¸")
        publishSubject.onNext("ğŸ…±ï¸")
</code></pre>
</div>
<h3 id="replaysubject-å½“ä½ è®¢é˜…replaysubjectçš„æ—¶å€™-ä½ å¯ä»¥æ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åçš„äº‹ä»¶-å•é¡µå¯ä»¥æ¥æ”¶è®¢é˜…ä»–ä¹‹å‰å‘å‡ºçš„äº‹ä»¶-æ¥æ”¶å‡ ä¸ªäº‹ä»¶å–å†³äºbuffersizeçš„å¤§å°"><code class="highlighter-rouge">ReplaySubject</code> å½“ä½ è®¢é˜…<code class="highlighter-rouge">ReplaySubject</code>çš„æ—¶å€™, ä½ å¯ä»¥æ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åçš„äº‹ä»¶, å•é¡µå¯ä»¥æ¥æ”¶è®¢é˜…ä»–ä¹‹å‰å‘å‡ºçš„äº‹ä»¶, æ¥æ”¶å‡ ä¸ªäº‹ä»¶å–å†³äº<code class="highlighter-rouge">bufferSize</code>çš„å¤§å°</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let replaySubject = ReplaySubject&lt;Any&gt;.create(bufferSize: 3)
        let replayDisposeBag = DisposeBag()
        
        replaySubject.subscribe({ print("replaySubject--1--", $0)}).addDisposableTo(replayDisposeBag)
        replaySubject.onNext("A")
        replaySubject.onNext("B")
        replaySubject.onNext("C")
        replaySubject.onNext("D")
        
        replaySubject.subscribe({ print("replaySubject--2--", $0)}).addDisposableTo(replayDisposeBag)
        replaySubject.onNext("ä¸€")
        replaySubject.onNext("äºŒ")
</code></pre>
</div>
<h3 id="behaviorsubject-å½“ä½ è®¢é˜…äº†behasubject-ä½ ä¼šæ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„æœ€åä¸€ä¸ªäº‹ä»¶"><code class="highlighter-rouge">BehaviorSubject </code>å½“ä½ è®¢é˜…äº†<code class="highlighter-rouge">BehaSubject</code>, ä½ ä¼šæ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„æœ€åä¸€ä¸ªäº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let behaviorSubject = BehaviorSubject(value: "ğŸ")
        let behaviorDisposeBag = DisposeBag()
        print("\n\n")
        behaviorSubject.subscribe({ print("BehaviorSubject--1--", $0) }).addDisposableTo(behaviorDisposeBag)
        behaviorSubject.onNext("ğŸŒ")
        behaviorSubject.onNext("ğŸŒ›")
        behaviorSubject.onNext("ğŸŒŸ")
        behaviorSubject.subscribe({ print("BehaviorSubject--2--", $0)} ).addDisposableTo(behaviorDisposeBag)
        behaviorSubject.onNext("ğŸŒ")
        behaviorSubject.onNext("ğŸŒ•")
</code></pre>
</div>

<blockquote>
  <p>æ³¨: <code class="highlighter-rouge">PublishSubject</code>, <code class="highlighter-rouge">ReplaySubject</code>å’Œ<code class="highlighter-rouge">BehaviorSubject</code>æ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡º<code class="highlighter-rouge">completed</code>äº‹ä»¶çš„ã€‚</p>
</blockquote>

<h3 id="variable-æ˜¯behaviorsubjectçš„ä¸€ä¸ªåŒ…è£…ç®±-å°±åƒæ˜¯ä¸€ä¸ªç®±å­ä¸€æ ·-ä½¿ç”¨çš„æ—¶å€™éœ€è¦è°ƒç”¨asobservableæ‹†ç®±-é‡Œé¢çš„valueæ˜¯ä¸€ä¸ªbehaviorsubject-ä»–ä¸ä¼šå‘å‡ºerroräº‹ä»¶-ä½†æ˜¯ä¼šè‡ªåŠ¨å‘å‡ºcompleteäº‹ä»¶"><code class="highlighter-rouge">Variable</code> æ˜¯<code class="highlighter-rouge">behaviorSubject</code>çš„ä¸€ä¸ªåŒ…è£…ç®±, å°±åƒæ˜¯ä¸€ä¸ªç®±å­ä¸€æ ·, ä½¿ç”¨çš„æ—¶å€™éœ€è¦è°ƒç”¨<code class="highlighter-rouge">asObservable</code>æ‹†ç®±, é‡Œé¢çš„<code class="highlighter-rouge">value</code>æ˜¯ä¸€ä¸ª<code class="highlighter-rouge">BehaviorSubject</code>, ä»–ä¸ä¼šå‘å‡º<code class="highlighter-rouge">error</code>äº‹ä»¶, ä½†æ˜¯ä¼šè‡ªåŠ¨å‘å‡º<code class="highlighter-rouge">complete</code>äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let variable = Variable("ğŸŒ–")
        let variableDisposeBag = DisposeBag()
        variable.asObservable().subscribe({ print("variableDisposeBag--1--", $0)} ).addDisposableTo(variableDisposeBag)
        variable.value = "â˜€ï¸"
        variable.value = "ğŸŒ¤"
        
        variable.asObservable().subscribe({ print("variableDisposeBag--2--", $0)}).addDisposableTo(variableDisposeBag)
        variable.value = "ğŸ”´"
        variable.value = "ğŸ”µ"
</code></pre>
</div>

<h2 id="è”åˆæ“ä½œ">è”åˆæ“ä½œ</h2>

<blockquote>
  <p>è”åˆæ“ä½œå°±æ˜¯æŠŠå¤šä¸ª<code class="highlighter-rouge">Observable</code>(è¢«è§‚å¯Ÿè€…) åˆå¹¶æˆå•ä¸ª<code class="highlighter-rouge">observable</code>æµ</p>
</blockquote>

<h3 id="startwith-åœ¨å‘å‡ºäº‹ä»¶æ¶ˆæ¯ä¹‹å‰-å…ˆå‘å‡ºæŸä¸ªç‰¹å®šçš„äº‹ä»¶æ¶ˆæ¯-æ¯”å¦‚å‘å‡ºäº‹ä»¶2-3-startwith1åä¼šå…ˆå‘å‡º1-ç„¶åå‘å‡º2-3"><code class="highlighter-rouge">startWith</code> åœ¨å‘å‡ºäº‹ä»¶æ¶ˆæ¯ä¹‹å‰, å…ˆå‘å‡ºæŸä¸ªç‰¹å®šçš„äº‹ä»¶æ¶ˆæ¯, æ¯”å¦‚å‘å‡ºäº‹ä»¶2, 3 ,startWith(1),å,ä¼šå…ˆå‘å‡º1, ç„¶åå‘å‡º2, 3</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("2", "3").startWith("1").startWith( "-1", "0").subscribe({ print("startWith---",$0 )}).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="merge-æŠŠä¸¤ä¸ªobservable-æµåˆå¹¶æˆä¸€ä¸ªobservableæµ-æ ¹æ®æ—¶é—´è½´å‘å‡ºå¯¹åº”çš„äº‹ä»¶"><code class="highlighter-rouge">merge</code> æŠŠä¸¤ä¸ª<code class="highlighter-rouge">Observable</code> æµåˆå¹¶æˆä¸€ä¸ª<code class="highlighter-rouge">Observable</code>æµ, æ ¹æ®æ—¶é—´è½´å‘å‡ºå¯¹åº”çš„äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let mergeDisposeBag = DisposeBag()
        let mergeSubject1 = PublishSubject&lt;String&gt;()
        let mergeSubject2 = PublishSubject&lt;String&gt;()
        
        Observable.of(mergeSubject1, mergeSubject2).merge().subscribe(onNext: { print($0) }, onError: nil, onCompleted: nil, onDisposed: nil).addDisposableTo(mergeDisposeBag)
        mergeSubject1.onNext("ğŸŒ•")
        mergeSubject1.onNext("ğŸŒ–")
        mergeSubject2.onNext("ğŸŒ—")
        mergeSubject1.onNext("ğŸŒ˜")
        mergeSubject2.onNext("ğŸŒ‘")
</code></pre>
</div>
<h3 id="zip-ç»‘å®šå°äºç­‰äº8-ä¸ªçš„observableæµ-ç»“åˆåœ¨ä¸€èµ·åŠç†-æ³¨-zip-æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹åº”ä¸€ä¸ªäº‹ä»¶-ä¸æ»¡è¶³é…å¯¹çš„å°†ä¼šè¢«æŠ›å¼ƒ"><code class="highlighter-rouge">zip</code> ç»‘å®šå°äºç­‰äº8 ä¸ªçš„<code class="highlighter-rouge">Observable</code>æµ, ç»“åˆåœ¨ä¸€èµ·åŠç†, æ³¨: zip æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹åº”ä¸€ä¸ªäº‹ä»¶, ä¸æ»¡è¶³é…å¯¹çš„å°†ä¼šè¢«æŠ›å¼ƒ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let stringSubject = PublishSubject&lt;String&gt;()
        let intSubject = PublishSubject&lt;Int&gt;()
        let zipDisposeBag = DisposeBag()
        
        Observable.zip(stringSubject, intSubject) { (stringElement, intElement) -&gt; String in
            return "\(stringElement) \(intElement)"
            }.subscribe(onNext: { print($0)}).addDisposableTo(zipDisposeBag)
        stringSubject.onNext("A")
        stringSubject.onNext("B")
        intSubject.onNext(1)
        intSubject.onNext(2)
        intSubject.onNext(3)
        stringSubject.onNext("C")
        intSubject.onNext(4)
</code></pre>
</div>

<h3 id="combinelatest-ç»‘å®šæœ€å¤šä¸è¶…è¿‡8ä¸ªçš„obaservable-ç»“åˆåœ¨ä¸€èµ·å¤„ç†-å’Œzip-ä¸åŒçš„æ˜¯-combinelastæ˜¯ä¸€ä¸ªæµçš„äº‹ä»¶å¯¹åº”å¦ä¸€æµçš„æœ€åä¸€ä¸ªäº‹ä»¶-ä¸¤ä¸ªæµçš„äº‹ä»¶éƒ½æ˜¯æœ€è¿‘çš„äº‹ä»¶"><code class="highlighter-rouge">combineLatest</code> ç»‘å®šæœ€å¤šä¸è¶…è¿‡8ä¸ªçš„<code class="highlighter-rouge">Obaservable</code>, ç»“åˆåœ¨ä¸€èµ·å¤„ç†. å’Œ<code class="highlighter-rouge">zip</code> ä¸åŒçš„æ˜¯, <code class="highlighter-rouge">combineLast</code>æ˜¯ä¸€ä¸ªæµçš„äº‹ä»¶å¯¹åº”å¦ä¸€æµçš„â€™æœ€åâ€™ä¸€ä¸ªäº‹ä»¶, ä¸¤ä¸ªæµçš„äº‹ä»¶éƒ½æ˜¯â€™æœ€è¿‘â€™çš„äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let stringSubject2 = PublishSubject&lt;String&gt;()
        let intSubject2 = PublishSubject&lt;Int&gt;()
        let zipDisposeBag2 = DisposeBag()
        print("\n")
        Observable.combineLatest(stringSubject2, intSubject2) { (stringElement, intElement) -&gt; String in
            return "\(stringElement) \(intElement)"
            }.subscribe(onNext: { print($0)}).addDisposableTo(zipDisposeBag2)
        stringSubject2.onNext("A")
        stringSubject2.onNext("B")
        intSubject2.onNext(1)
        intSubject2.onNext(2)
        intSubject2.onNext(3)
        stringSubject2.onNext("C")
        intSubject2.onNext(4)
</code></pre>
</div>
<h3 id="switchlatest-å¯ä»¥å¯¹äº‹ä»¶æµè¿›è¡Œè½¬æ¢-æœ¬æ¥ç›‘å¬çš„subject1--æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜variableé‡Œé¢çš„value-æ›´æ¢äº‹ä»¶æº-å˜æˆç›‘å¬subject2"><code class="highlighter-rouge">switchLatest</code> å¯ä»¥å¯¹äº‹ä»¶æµè¿›è¡Œè½¬æ¢, æœ¬æ¥ç›‘å¬çš„<code class="highlighter-rouge">subject1</code> , æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜<code class="highlighter-rouge">variable</code>é‡Œé¢çš„<code class="highlighter-rouge">value</code>, æ›´æ¢äº‹ä»¶æº, å˜æˆç›‘å¬<code class="highlighter-rouge">subject2</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let switchDisposeBag = DisposeBag()
        let subject1 = BehaviorSubject(value: "ğŸ˜")
        let subject2 = BehaviorSubject(value: "ğŸ˜˜")
        let variable = Variable(subject1)
        variable.asObservable().switchLatest().subscribe({ print($0)}).addDisposableTo(switchDisposeBag)
        subject1.onNext("ğŸ")
        subject1.onNext("ğŸ")
        subject2.onNext("ğŸ")
        variable.value = subject2
        subject1.onNext("ğŸ‰")
        subject2.onNext("ğŸ²")
</code></pre>
</div>

<h2 id="å˜æ¢æ“ä½œ">å˜æ¢æ“ä½œ</h2>

<blockquote>
  <p>å˜æ¢æ“ä½œ</p>
</blockquote>

<h3 id="map-é€šè¿‡ä¼ å…¥ä¸€ä¸ªå‡½æ•°é—­åŒ…æŠŠåŸæ¥çš„sequence-è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„sequence"><code class="highlighter-rouge">map</code> é€šè¿‡ä¼ å…¥ä¸€ä¸ªå‡½æ•°é—­åŒ…æŠŠåŸæ¥çš„<code class="highlighter-rouge">sequence</code> è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„<code class="highlighter-rouge">sequence</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of(1, 2, 3).map { $0 * $0
            }.subscribe({ print($0)}).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="flatmap-å°†ä¸€ä¸ªsequence-è½¬æ¢ä¸ºå¦ä¸€ä¸ªsequence-å½“ä½ æ¥æ”¶ä¸€ä¸ªsequenceäº‹ä»¶-ä½ è¿˜æƒ³æ¥æ”¶å…¶ä»–sequenceå‘å‡ºçš„äº‹ä»¶çš„è¯å¯ä»¥ä½¿ç”¨flatmap-ä»–ä¼šå°†æ¯ä¸€ä¸ªsequenceäº‹ä»¶è¿›è¡Œå¤„ç†å-ç„¶åå†ä»¥ä¸€ä¸ªæ–°çš„sequenceå½¢å¼å‘å‡ºäº‹ä»¶"><code class="highlighter-rouge">flatMap</code> å°†ä¸€ä¸ª<code class="highlighter-rouge">sequence</code> è½¬æ¢ä¸ºå¦ä¸€ä¸ª<code class="highlighter-rouge">sequence</code>, å½“ä½ æ¥æ”¶ä¸€ä¸ª<code class="highlighter-rouge">sequence</code>äº‹ä»¶, ä½ è¿˜æƒ³æ¥æ”¶å…¶ä»–<code class="highlighter-rouge">sequence</code>å‘å‡ºçš„äº‹ä»¶çš„è¯,å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">flatMap</code>, ä»–ä¼šå°†æ¯ä¸€ä¸ª<code class="highlighter-rouge">sequence</code>äº‹ä»¶è¿›è¡Œå¤„ç†å, ç„¶åå†ä»¥ä¸€ä¸ªæ–°çš„<code class="highlighter-rouge">sequence</code>å½¢å¼å‘å‡ºäº‹ä»¶.</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let flatMapDisposeBag = DisposeBag()
        struct Player {
            var score: Variable&lt;Int&gt;
        }
        let ğŸ˜ˆ = Player(score: Variable(80))
        let ğŸ‘» = Player(score: Variable(90))
        let ğŸ’€ = Player(score: Variable(550))
        
        let variablePlayer = Variable(ğŸ˜ˆ)
        variablePlayer.asObservable().flatMapLatest { $0.score.asObservable()
            }.subscribe({ print($0)}).addDisposableTo(flatMapDisposeBag)
        ğŸ˜ˆ.score.value = 85
        variablePlayer.value = ğŸ‘»
        ğŸ˜ˆ.score.value = 95
        ğŸ˜ˆ.score.value = 222
        
        variablePlayer.value = ğŸ’€
        ğŸ‘».score.value = 100
        ğŸ’€.score.value = 666
</code></pre>
</div>

<blockquote>
  <p>flatMapLatest åªä¼šæ¥æ”¶æœ€æ–°çš„valueäº‹ä»¶</p>
</blockquote>

<h3 id="scan-å°±æ˜¯ä¸€ä¸ªåˆå§‹åŒ–çš„æ•°-ç„¶åä¸æ–­çš„æ‹¿å‰ä¸€ä¸ªç»“æœå’Œæœ€æ–°çš„å€¼-è¿›è¡Œå¤„ç†æ“ä½œ"><code class="highlighter-rouge">scan</code> å°±æ˜¯ä¸€ä¸ªåˆå§‹åŒ–çš„æ•°, ç„¶åä¸æ–­çš„æ‹¿å‰ä¸€ä¸ªç»“æœå’Œæœ€æ–°çš„å€¼, è¿›è¡Œå¤„ç†æ“ä½œ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.range(start: 1, count: 100).scan(0) { (a, b) -&gt; Int in
            return a + b
            }.subscribe({ print($0)}).addDisposableTo(DisposeBag())
        Observable.of(10, 100, 1000).scan(0) { $0 + $1
            }.subscribe({ print($0)}).addDisposableTo(DisposeBag())
</code></pre>
</div>

<h2 id="è¿‡æ»¤å’Œçº¦æŸ">è¿‡æ»¤å’Œçº¦æŸ</h2>

<blockquote>
  <p>è¿‡æ»¤å’Œçº¦æŸ</p>
</blockquote>

<h3 id="filter-è¿‡æ»¤æ‰æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„äº‹ä»¶"><code class="highlighter-rouge">filter</code> è¿‡æ»¤æ‰æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸ˜€", "ğŸ˜™", "ğŸ˜€", "ğŸ˜€", "ğŸ˜œ", "ğŸ˜", "ğŸ˜‡", "ğŸ˜—", "ğŸ˜˜", "ğŸ™ƒ", "ğŸ˜‰").filter { (str) -&gt; Bool in
            return str == "ğŸ˜€"
            }.subscribe({ print($0)}).addDisposableTo(DisposeBag())
        Observable.range(start: 0, count: 100).filter { (num) -&gt; Bool in
            return num % 2 == 0
            }.subscribe({ print($0)}).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="distinctuntilchanged-å½“ä¸‹ä¸€ä¸ªäº‹ä»¶ä¸å‰ä¸€ä¸ªäº‹ä»¶ä¸æ˜¯åŒä¸€ä¸ªäº‹ä»¶æ‰è¿›è¡Œå¤„ç†æ“ä½œ"><code class="highlighter-rouge">distinctUntilChanged</code> å½“ä¸‹ä¸€ä¸ªäº‹ä»¶ä¸å‰ä¸€ä¸ªäº‹ä»¶ä¸æ˜¯åŒä¸€ä¸ªäº‹ä»¶æ‰è¿›è¡Œå¤„ç†æ“ä½œ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("âš½ï¸", "ğŸˆ", "ğŸ€", "âš¾ï¸", "âš¾ï¸", "âš¾ï¸", "ğŸ€", "âš½ï¸", "ğŸ€", "âš½ï¸", "âš½ï¸", "ğŸ¾", "ğŸ", "âš½ï¸", "ğŸ", "ğŸ").distinctUntilChanged().subscribe( { print($0)} ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="elementat-åªå¤„ç†åœ¨æŒ‡å®šä½ç½®çš„äº‹ä»¶">elementAt åªå¤„ç†åœ¨æŒ‡å®šä½ç½®çš„äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸ¤", "ğŸ¼", "ğŸ¹", "ğŸ§").single().subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>

<blockquote>
  <p>error(Sequence contains more than one element.)</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸ¹", "ğŸ¹", "ğŸ§").single( {$0 == "ğŸ§"} ).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>

<blockquote>
  <p>completed</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸ¹", "ğŸ¹", "ğŸ§").single( {$0 == "ğŸ¹"} ).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>

<blockquote>
  <p>error(Sequence contains more than one element.)</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸ¹", "ğŸ¹", "ğŸ§").single( {$0 == "ğŸ¤"} ).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>

<blockquote>
  <p>error(Sequence doesnâ€™t contain any elements.)</p>
</blockquote>

<h3 id="take-åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ä¿¡å·"><code class="highlighter-rouge">take</code> åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ä¿¡å·</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("â˜®ï¸", "â˜ªï¸", "ğŸ”¯", "â˜¯ï¸", "â™‰ï¸", "â™’ï¸").take(3).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="takelast-åªå¤„ç†åå‡ ä¸ªäº‹ä»¶ä¿¡å·"><code class="highlighter-rouge">takeLast</code> åªå¤„ç†åå‡ ä¸ªäº‹ä»¶ä¿¡å·</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("â˜®ï¸", "â˜ªï¸", "ğŸ”¯", "â˜¯ï¸", "â™‰ï¸", "â™’ï¸").takeLast(3).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="takewhile-å½“æ¡ä»¶æ»¡è¶³æ—¶å¤„ç†"><code class="highlighter-rouge">takeWhile</code> å½“æ¡ä»¶æ»¡è¶³æ—¶å¤„ç†</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.range(start: 1, count: 5).takeWhile( { $0 &lt;= 3} ).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="takeuntil-æ¥æ”¶äº‹ä»¶æ¶ˆæ¯-ç›´åˆ°å¦ä¸€ä¸ªsequence-å‘å‡ºäº‹ä»¶æ¶ˆæ¯çš„æ—¶å€™"><code class="highlighter-rouge">takeUntil</code> æ¥æ”¶äº‹ä»¶æ¶ˆæ¯, ç›´åˆ°å¦ä¸€ä¸ªsequence å‘å‡ºäº‹ä»¶æ¶ˆæ¯çš„æ—¶å€™</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let sourceSequence = PublishSubject&lt;String&gt;()
        let stopSequence = PublishSubject&lt;String&gt;()
        let takeUntilDisposeBag = DisposeBag()
        sourceSequence.takeUntil(stopSequence).subscribe( { print($0) } ).addDisposableTo(takeUntilDisposeBag)
        sourceSequence.onNext("â™»ï¸")
        sourceSequence.onNext("ğŸˆ¯ï¸")
        stopSequence.onNext("â›”ï¸")
        sourceSequence.onNext("ğŸ’¹")
</code></pre>
</div>
<h3 id="skip-å–æ¶ˆå‰å‡ ä¸ªäº‹ä»¶"><code class="highlighter-rouge">skip</code> å–æ¶ˆå‰å‡ ä¸ªäº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸˆ¶", "ğŸˆ·ï¸", "ğŸˆº", "ğŸˆ¸", "ğŸˆšï¸").skip(2).subscribe( { print($0)} ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="skipwhile-æ»¡è¶³äº‹ä»¶æ¶ˆæ¯çš„éƒ½å–æ¶ˆ-å½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯ååé¢çš„å°±ä¸è€ƒè™‘äº†"><code class="highlighter-rouge">skipWhile</code> æ»¡è¶³äº‹ä»¶æ¶ˆæ¯çš„éƒ½å–æ¶ˆ, å½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯å,åé¢çš„å°±ä¸è€ƒè™‘äº†</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of("ğŸˆ¶", "ğŸˆ·ï¸", "ğŸˆº", "ğŸˆ¸", "ğŸˆšï¸").skipWhile( { $0 == "ğŸˆ¶"} ).subscribe( { print($0)} ).addDisposableTo(DisposeBag())
        Observable.range(start: 0, count: 5).skipWhile( { $0 &lt; 3} ).subscribe( { print($0)} ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="skipwhilewithindex-æ»¡è¶³æ¡ä»¶çš„éƒ½è¢«å–æ¶ˆ-å¯ä»¥æ ¹æ®å…ƒç´ å’Œä¸‹è¡¨åˆ†åˆ«å†³å®š-ä¼ å…¥çš„é—­åŒ…å’Œskipwhileæœ‰ç‚¹åŒºåˆ«è€Œå·²-å½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯ååé¢çš„å°±ä¸è€ƒè™‘äº†"><code class="highlighter-rouge">skipWhileWithIndex</code> æ»¡è¶³æ¡ä»¶çš„éƒ½è¢«å–æ¶ˆ, å¯ä»¥æ ¹æ®å…ƒç´ å’Œä¸‹è¡¨åˆ†åˆ«å†³å®š, ä¼ å…¥çš„é—­åŒ…å’Œ<code class="highlighter-rouge">skipWhile</code>æœ‰ç‚¹åŒºåˆ«è€Œå·², å½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯å,åé¢çš„å°±ä¸è€ƒè™‘äº†</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let skipWithIndexDisposeBag = DisposeBag()
        Observable.of("1ğŸˆ¶", "2ğŸ˜€", "1ğŸˆº", "ğŸˆ¸", "ğŸ˜…").skipWhileWithIndex { (element, index) -&gt; Bool in
            return index != 3
            }.subscribe( { print("----", $0)} ).addDisposableTo(skipWithIndexDisposeBag)
</code></pre>
</div>

<blockquote>
  <p>æ³¨: å½“é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯å,åé¢çš„å°±ä¸è€ƒè™‘äº†</p>
</blockquote>

<h3 id="skipuntil-çŸ¥é“æŸä¸ªsequenceå‘å‡ºäº†äº‹ä»¶æ¶ˆæ¯-æ‰å¼€å§‹æ¥æ”¶å½“å‰sequenceå‘å‡ºçš„äº‹ä»¶æ¶ˆæ¯"><code class="highlighter-rouge">skipUntil</code> çŸ¥é“æŸä¸ª<code class="highlighter-rouge">sequence</code>å‘å‡ºäº†äº‹ä»¶æ¶ˆæ¯, æ‰å¼€å§‹æ¥æ”¶å½“å‰<code class="highlighter-rouge">sequence</code>å‘å‡ºçš„äº‹ä»¶æ¶ˆæ¯</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let skipUntilDisposeBag = DisposeBag()
        let skipUntilStartSubject = PublishSubject&lt;String&gt;()
        let skipUntilStopSubject = PublishSubject&lt;Int&gt;()
        skipUntilStartSubject.skipUntil(skipUntilStopSubject).subscribe( { print($0) } ).addDisposableTo(skipUntilDisposeBag)
        skipUntilStartSubject.onNext("ğŸ ")
        skipUntilStartSubject.onNext("ğŸŸ")
        
        skipUntilStopSubject.onNext(0)// skipUntilStopSubject æ¥æ”¶æ¶ˆæ¯å, skipUntilStartSubjectæ‰ä¼šå¼€å§‹æ¥æ”¶æ¶ˆæ¯
        
        skipUntilStartSubject.onNext("ğŸ¡")
        skipUntilStartSubject.onNext("ğŸ¬")
</code></pre>
</div>

<blockquote>
  <p>æ³¨:   <code class="highlighter-rouge">skipUntilStopSubject</code> æ¥æ”¶æ¶ˆæ¯å, <code class="highlighter-rouge">skipUntilStartSubject</code>æ‰ä¼šå¼€å§‹æ¥æ”¶æ¶ˆæ¯</p>
</blockquote>

<h2 id="æ•°å­¦æ“ä½œ">æ•°å­¦æ“ä½œ</h2>

<blockquote>
  <p>æ•°å­¦æ“ä½œ</p>
</blockquote>

<h3 id="toarray-å°†sequenceè½¬æ¢æˆä¸€ä¸ªarray-å¹¶è½¬æ¢æˆå•ä¸€äº‹ä»¶ä¿¡å·-ç„¶åç»“æŸ"><code class="highlighter-rouge">toArray</code> å°†<code class="highlighter-rouge">sequence</code>è½¬æ¢æˆä¸€ä¸ª<code class="highlighter-rouge">Array</code>, å¹¶è½¬æ¢æˆå•ä¸€äº‹ä»¶ä¿¡å·, ç„¶åç»“æŸ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.range(start: 1, count: 10).toArray().subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="reduce-ç”¨ä¸€ä¸ªåˆå§‹å€¼-å¯¹äº‹ä»¶æ•°æ®è¿›è¡Œç´¯è®¡æ“ä½œ-reduce-æ¥æ”¶ä¸€ä¸ªåˆå§‹å€¼å’Œä¸€ä¸ªæ“ä½œç¬¦"><code class="highlighter-rouge">reduce</code> ç”¨ä¸€ä¸ªåˆå§‹å€¼, å¯¹äº‹ä»¶æ•°æ®è¿›è¡Œç´¯è®¡æ“ä½œ. <code class="highlighter-rouge">reduce</code> æ¥æ”¶ä¸€ä¸ªåˆå§‹å€¼,å’Œä¸€ä¸ªæ“ä½œç¬¦</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>Observable.of(10, 100, 1000).reduce(1, accumulator: +).subscribe( { print($0) } ).addDisposableTo(DisposeBag())
</code></pre>
</div>
<h3 id="concat-åˆå¹¶-æŠŠå¤šä¸ªsequence-åˆå¹¶ä¸º-ä¸€ä¸ª-sequence-å¹¶ä¸”å½“å‰é¢ä¸€ä¸ªsequenceå‘å‡ºäº†completeäº‹ä»¶-æ‰ä¼šå¼€å§‹ä¸‹ä¸€ä¸ªsequenceäº‹ä»¶"><code class="highlighter-rouge">concat</code> (åˆå¹¶) æŠŠå¤šä¸ª<code class="highlighter-rouge">sequence</code> åˆå¹¶ä¸º ä¸€ä¸ª <code class="highlighter-rouge">sequence</code>, å¹¶ä¸”å½“å‰é¢ä¸€ä¸ª<code class="highlighter-rouge">sequence</code>å‘å‡ºäº†<code class="highlighter-rouge">complete</code>äº‹ä»¶, æ‰ä¼šå¼€å§‹ä¸‹ä¸€ä¸ª<code class="highlighter-rouge">sequence</code>äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let concatDisposeBag = DisposeBag()
        let concatBehaviorSubject1 = BehaviorSubject(value: "â˜€ï¸")
        let concatBehaviorSubject2 = BehaviorSubject(value: "ğŸ")
        
        let concatVariable = Variable(concatBehaviorSubject1)
        concatVariable.asObservable().concat().subscribe( { print($0) } ).addDisposableTo(concatDisposeBag)
        
        concatBehaviorSubject1.onNext("ğŸŒ§")
        concatBehaviorSubject1.onNext("â„ï¸")
        concatVariable.value = concatBehaviorSubject2
        concatBehaviorSubject2.onNext("ğŸ“")
        concatBehaviorSubject1.onCompleted()
        concatBehaviorSubject2.onNext("ğŸ’")
        concatBehaviorSubject2.onNext("ğŸ‰")
        concatBehaviorSubject1.onNext("â›…ï¸")
</code></pre>
</div>

<blockquote>
  <p>next(â˜€ï¸)
         next(ğŸŒ§)
         next(â„ï¸)
         next(ğŸ“)
         next(ğŸ’)
         next(ğŸ‰)</p>
</blockquote>

<h2 id="è¿æ¥æ€§æ“ä½œ">è¿æ¥æ€§æ“ä½œ</h2>

<blockquote>
  <p>Connectable Observable è®¢é˜…æ—¶ä¸å¼€å§‹å‘å°„äº‹ä»¶æ¶ˆæ¯, è€Œæ˜¯ä»…å½“è°ƒç”¨ä»–ä»¬çš„connec() æ–¹æ³•æ—¶.
è¿™æ ·å°±å¯ä»¥ç­‰å¾…æˆ‘ä»¬æ‰€æœ‰æƒ³è¦çš„è®¢é˜…è€…éƒ½è®¢é˜…äº†ä»¥åå†å¼€å§‹å‘äº‹ä»¶æ¶ˆæ¯, è¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æ‰€æœ‰çš„è®¢é˜…è€…éƒ½èƒ½å¤Ÿæ¥æ”¶åˆ°äº‹ä»¶æ¶ˆæ¯. ç®€å•è¯´å°±æ˜¯ç­‰å¤§å®¶éƒ½å‡†å¤‡å®Œæˆå, æ‰å¼€å§‹å‘æ¶ˆæ¯</p>
</blockquote>

<h3 id="ä¾‹-æ¯éš”ä¸€ç§’-å‘é€ä¸€ä¸ªäº‹ä»¶">ä¾‹: æ¯éš”ä¸€ç§’ å‘é€ä¸€ä¸ªäº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let interval = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance)
       _ = interval.subscribe(onNext: { print("Subscription: 1, Event: \($0)") })
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 5) {
           _ = interval.subscribe(onNext: { print("Subscription: 2, Event: \($0)") })
       }
</code></pre>
</div>
<h3 id="publish-å°†ä¸€ä¸ªæ­£å¸¸çš„sequence-è½¬æ¢ä¸º-connectable-sequence-å¯ä»¥æŒ‡å®šæ—¶é—´å‘é€äº‹ä»¶"><code class="highlighter-rouge">publish</code> å°†ä¸€ä¸ªæ­£å¸¸çš„<code class="highlighter-rouge">sequence</code> è½¬æ¢ä¸º <code class="highlighter-rouge">connectable sequence</code>, å¯ä»¥æŒ‡å®šæ—¶é—´å‘é€äº‹ä»¶</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance).publish()
       _ = intSequence.subscribe(onNext: { print("Subscription: 1, Event: \($0)") })
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 2) {
           _ = intSequence.connect()
       }
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 4) {
           _ = intSequence.subscribe(onNext: { print("Subscription: 2, Event: \($0)") })
       }
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 6) {
           _ = intSequence.subscribe(onNext: { print("Subscription: 3, Event: \($0)") })
       }
</code></pre>
</div>
<h3 id="replay-è®²ä¸€ä¸ªæ­£å¸¸çš„sequence-è½¬æ¢æˆä¸€ä¸ªconnectable-sequence-ç„¶åå’Œreplaysubjectçš„buffersizeç›¸ä¼¼-èƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯"><code class="highlighter-rouge">replay</code> è®²ä¸€ä¸ªæ­£å¸¸çš„<code class="highlighter-rouge">sequence</code> è½¬æ¢æˆä¸€ä¸ª<code class="highlighter-rouge">connectable sequence</code>, ç„¶åå’Œ<code class="highlighter-rouge">replaySubject</code>çš„`bufferSizeç›¸ä¼¼, èƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let replaySequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance).replay(1) // èƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„næ¡ä¿¡æ¯
       _ = replaySequence.subscribe( { print("ç¬¬1ä¸ªè®¢é˜…è€…--Event", $0)} )
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 1) {
           _ = replaySequence.connect()
       }
       
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 4) {
           _ = replaySequence.subscribe( { print("ç¬¬2ä¸ªè®¢é˜…è€…--Event", $0)} )
       }
       
       DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 6) {
           _ = replaySequence.subscribe( { print("ç¬¬3ä¸ªè®¢é˜…è€…--Event", $0)} )
       }
</code></pre>
</div>
<h3 id="multicast-å°†ä¸€ä¸ªæ­£å¸¸çš„sequence-è½¬æ¢ä¸º-connectable-sequence--å¹¶ä¸”é€šè¿‡ç‰¹å®šçš„subjectå‘é€å‡ºå»-ä¾‹-publishsubject-replaysubject-behaviorsubject-variable"><code class="highlighter-rouge">multicast</code> å°†ä¸€ä¸ªæ­£å¸¸çš„<code class="highlighter-rouge">sequence</code> è½¬æ¢ä¸º <code class="highlighter-rouge">connectable sequence</code> , å¹¶ä¸”é€šè¿‡ç‰¹å®šçš„<code class="highlighter-rouge">subject</code>å‘é€å‡ºå», ä¾‹: <code class="highlighter-rouge">publishSubject</code>, <code class="highlighter-rouge">replaySubject</code>, <code class="highlighter-rouge">behaviorSubject</code>, <code class="highlighter-rouge">Variable</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let subject = PublishSubject&lt;Int&gt;()
        _ = subject.subscribe( { print("subject1--", $0) } )
        let multicastSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance).multicast(subject)
        _ = multicastSequence.subscribe( { print("subject2--", $0) } )
        DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 2) { 
            _ = multicastSequence.connect()
        }
        DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 4) {
            _ = multicastSequence.subscribe( { print("subject3--", $0) } )
        }
</code></pre>
</div>

<h2 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</h2>

<blockquote>
  <p>é”™è¯¯å¤„ç†</p>
</blockquote>

<h3 id="catcherrorjustreturn-é‡åˆ°errorçš„æ—¶å€™å°±returnä¸€ä¸ªå€¼-ç„¶åç»“æŸ"><code class="highlighter-rouge">catchErrorJustReturn</code> é‡åˆ°â€™errorâ€™çš„æ—¶å€™å°±â€™returnâ€™ä¸€ä¸ªå€¼, ç„¶åç»“æŸ</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let justReturnDisposeBag = DisposeBag()
        let justReturnSubject = PublishSubject&lt;String&gt;()
        justReturnSubject.catchErrorJustReturn("ğŸ˜±").subscribe( { print($0) } ).addDisposableTo(justReturnDisposeBag)
        justReturnSubject.onNext("â˜ºï¸")
        justReturnSubject.onNext("ğŸ˜‹")
        justReturnSubject.onNext("ğŸ˜")
        justReturnSubject.onError(NSError(domain: "â", code: 1000001, userInfo: nil) as Error)
</code></pre>
</div>
<h3 id="catcherror-æ•è·errorè¿›è¡Œå¤„ç†-å¯ä»¥è¿”å›å¦ä¸€ä¸ªsequence-è¿›è¡Œè®¢é˜…"><code class="highlighter-rouge">catchError</code> æ•è·<code class="highlighter-rouge">error</code>è¿›è¡Œå¤„ç†, å¯ä»¥è¿”å›å¦ä¸€ä¸ª<code class="highlighter-rouge">sequence</code> è¿›è¡Œè®¢é˜…</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let catchErrorDisposeBag = DisposeBag()
        let catchErrorSubject1 = PublishSubject&lt;String&gt;()
        let catchErrorSubject2 = PublishSubject&lt;String&gt;()
        catchErrorSubject1.catchError { (error) -&gt; Observable&lt;String&gt; in
            print("errro: ---\(error)")
            return catchErrorSubject2
            }.subscribe( { print($0) } ).addDisposableTo(catchErrorDisposeBag)
        catchErrorSubject1.onNext("ğŸ˜€")
        catchErrorSubject1.onNext("ğŸ˜¬")
        catchErrorSubject2.onNext("ğŸ˜‚") // ä¸ä¼šæ‰“å°, å½“subject1 é‡åˆ°errorå, subject2 æ‰ä¼šè¢«è®¢é˜…
        
        catchErrorSubject1.onError(NSError(domain: "â", code: 1000001, userInfo: nil) as Error)
        catchErrorSubject2.onNext("ğŸ¤‘") // ä¼šæ‰“å°, å› ä¸ºå·²ç»è¢«è®¢é˜…äº†
</code></pre>
</div>
<h3 id="retry-é‡è¯•-é‡è§erroräº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•-æ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥-å¯ä»¥è¿›è¡Œé‡æ–°è¿æ¥"><code class="highlighter-rouge">retry</code> (é‡è¯•) é‡è§<code class="highlighter-rouge">error</code>äº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•, æ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥, å¯ä»¥è¿›è¡Œé‡æ–°è¿æ¥</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>let retryDisposeBag = DisposeBag()
        var count = 1
        let myRetrySequence = Observable&lt;String&gt;.create { (observer) -&gt; Disposable in
            observer.onNext("----1")
            observer.onNext("----2")
            observer.onNext("----3")
            if count &lt;= 2 {
                let error = NSError(domain: "â", code: 1000001, userInfo: nil) as Error
                observer.onError(error)
                print(error)
                count += 1
            }
            observer.onNext("----4")
            observer.onCompleted()
            
            return Disposables.create()
        }
myRetrySequence.retry(5).subscribe( { print($0) } ).addDisposableTo(retryDisposeBag)
</code></pre>
</div>
<blockquote>
  <p><code class="highlighter-rouge">retry()</code> æ— é™é‡å¤â€” ç›´åˆ°æˆåŠŸ</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>myRetrySequenceretry().subscribe( { print($0) } ).addDisposableTo(retryDisposeBag)
</code></pre>
</div>

<h2 id="debug">debug</h2>

<blockquote>
  <p>debug</p>
</blockquote>

<h3 id="debug-æ‰“å°æ‰€æœ‰çš„è®¢é˜…-äº‹ä»¶-å’Œdisposals"><code class="highlighter-rouge">debug</code> æ‰“å°æ‰€æœ‰çš„è®¢é˜…, äº‹ä»¶, å’Œ<code class="highlighter-rouge">disposals</code></h3>
<div class="highlighter-rouge"><pre class="highlight"><code>myRetrySequence.debug().retry(5).subscribe( { print($0) } ).addDisposableTo(retryDisposeBag)
</code></pre>
</div>
<h3 id="rxswiftresourcestotal-æŸ¥çœ‹rxswift-æ‰€æœ‰èµ„æºçš„å ç”¨">RxSwift.Resources.total æŸ¥çœ‹RxSwift æ‰€æœ‰èµ„æºçš„å ç”¨</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>print(RxSwift.Resources.total)
</code></pre>
</div>

<blockquote>
  <p>RxSwift.Resources.total æ²¡èƒ½è°ƒç”¨æˆåŠŸ ğŸ˜‚</p>
</blockquote>

<h1 id="ä»£ç ç¨åä¼šä¸Šä¼ åˆ°github-éœ€è¦æŸ¥çœ‹ç»“æœçš„å°ä¼™ä¼´å¯ä»¥ä¸‹è½½è¿è¡Œ">ä»£ç ç¨åä¼šä¸Šä¼ åˆ°github, éœ€è¦æŸ¥çœ‹ç»“æœçš„å°ä¼™ä¼´å¯ä»¥ä¸‹è½½è¿è¡Œ</h1>

<h1 id="å†™åœ¨æœ€å-æœ¬äººioså¼€å‘èœé¸Ÿä¸€æš-ä¸å¦¥ä¹‹å¤„è¿˜æœ›å¤§ç¥æŒ‡æ•™">å†™åœ¨æœ€å æœ¬äººiOSå¼€å‘èœé¸Ÿä¸€æš, ä¸å¦¥ä¹‹å¤„,è¿˜æœ›å¤§ç¥æŒ‡æ•™~~~~~~~~~~~</h1>


    <div class="declare">
        <div>

        </div>
    </div>
</article>
<!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontello" href="https://twitter.com/intent/tweet?url=http://localhost:4000/2016/12/28/RxSwift-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E8%AF%AD%E6%B3%95.html&text=RxSwift æˆé•¿ä¹‹è·¯---åŸºæœ¬æ¦‚å¿µå’Œè¯­æ³•" target="_blank"></a>
  <a id="icon-cc" class="fontello" href="https://github.com/YQqiang" target="_blank"></a>
  <a id="icon-weibo" class="fontello" href="http://v.t.sina.com.cn/share/share.php?url=http://localhost:4000/2016/12/28/RxSwift-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E8%AF%AD%E6%B3%95.html&title=RxSwift æˆé•¿ä¹‹è·¯---åŸºæœ¬æ¦‚å¿µå’Œè¯­æ³•" target="_blank"></a>
    <!-- <div class="share-info">åˆ†äº«ä¸€ä¸‹~</div> -->
</div>
<div id="qrcode" >
	<img src="http://localhost:4000/assets/images/qrcode.jpg" style="margin: 0 auto;display: block;" width="200" height="200" alt="">
</div>
<!-- end #post__share -->
<div id="disqus_thread" name="ä½™å¼º">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div>


            <!---->
    <!--<p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>-->
    <!--&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a>-->
    <!--&nbsp;&nbsp;|&nbsp;&nbsp;Hosted on <a href="https://pages.github.com" target="_blank">Github</a></p>-->
      </div> <!-- end #pjax -->

      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

    <button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button>

<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.pjax.js"></script>
<script src="/assets/js/nprogress.js"></script>
<script src="/assets/js/searchbox.js"></script>
<script src="/assets/js/script.js"></script>


    <script>
    //ç™¾åº¦ç«™ç‚¹ç»Ÿè®¡,æ’é™¤localhost
    if(window.location.host.indexOf("localhost") ==-1 &&  window.location.host.indexOf("127.0.0.1") == -1){

        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?22d94317cfb9f9e0bb476228d9f79278";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    }
</script>
   </body>
 </html>